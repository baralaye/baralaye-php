/**
 * Baralaye.com Catalog Styles
 * @author tech@baralaye.com
 */

/** Item List ----*/

.item-list {
  .clearfix;
  .list-unstyled;
  text-align: center;
  font-size: 0; /* to remove whitespace in between list items */
  margin: 0;

  @media (max-width: 320px) {
    margin: 0 -15px;
  }

  > li,
  .item {
    position: relative;
    display: inline-block;
    width: 50%;
    height: 160px;

    @media (min-width: @screen-sm-min) {
      width: 225px;
      height: 225px;
    }

    a {
      display: block;
      position: relative;
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
      background-size: cover;
      background-position: center;
      height: 100%;
      width: 100%;

      &:hover {
        cursor: pointer;

        .title {
          background: rgba(0,0,0,0.8);
        }
      }

      .title {
        .raleway;
        position: absolute;
        bottom: 0;
        left: 0;
        text-align: center;
        text-shadow: 0 0 3px #000;
        display: inline-block;
        width: 100%;
        color: #fff;
        overflow: hidden;
        text-overflow: ellipsis;
        -o-text-overflow: ellipsis;
        -webkit-text-overflow: ellipsis;
        white-space: nowrap;
        font-size: 13px;
        line-height: 16px;
        background: rgba(0,0,0,0.5);
        padding: 5px;

        &.untitled {
          font-size: 10px;
          color: #ccc;
          text-transform: uppercase;
        }
      }
    }
  }
}

/** Catalog list ----*/

.page-body.catalog {
  margin: 0;
  max-width: none;

  .item-list.catalog li {
    @media (min-width: @screen-sm-min) {
      width: 33%;
    }
    @media (min-width: @screen-md-min) {
      width: 25%;
    }
    @media (min-width: @screen-lg-min) {
      width: 20%;
    }
  }
}

/** Catalog Item ----*/

.page-body.catalog-item {
  padding: 0;
  margin: 0 auto 40px;

  .title {
    .make-md-column(3);

    @media (min-width: @screen-md-min) {
      padding-left: 0;
    }
  }

  .image-slider {
    .no-gutter;
    margin: 0 auto 20px;
    .make-md-column(6);
    .make-md-column-pull(3);

    @media (min-width: @screen-md-min) {
      margin-bottom: 0;
      .pull-right;
    }

    /* BX Slider */
    .bx-wrapper {

      .bx-viewport {

        ul.bxslider.catalog {
          .list-unstyled;

          img {
            max-width: 100%;
            max-height: 600px;
          }
        }
      }

      .bx-controls {
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 60;

        .bx-controls-direction {
          position: relative;
          margin: 0 auto;

          .bx-prev {
            left: 0;
            /*
              border-top: @btn-width solid transparent;
              border-bottom: @btn-width solid transparent;
              border-left: @btn-width solid rgba(0,0,0,0.2);
            */
          }
          .bx-next {
            right: 0;
            /*
              border-top: @btn-width solid transparent;
              border-bottom: @btn-width solid transparent;
              border-right: @btn-width solid rgba(0,0,0,0.2);
            */
          }

          .bx-prev,
          .bx-next {
            position: absolute;
            top: 0 ;
            width: 20%;
          }
        }
      }
    }
  }

  .image {
    .no-gutter;
    .make-md-column(6);
    max-width: 100%; /* for right responsive width on images without poplets */
    margin-bottom: 20px;

    @media (min-width: @screen-md-min) {
      margin: 0 25% 0 0; /* to make up for missing poplet column (no poplets) */
      .pull-right;
    }

    img {
      max-width: 100%;
      max-height: 600px;
    }
  }

  ul.image-poplets {
    .list-unstyled;
    .make-md-column(3);
    .make-md-column-push(6);
    margin-bottom: 20px;

    @media (min-width: @screen-md-min) {
      padding-right: 0;
      margin: 0;
      .pull-right;
    }

    li {
      display: inline-block;

      @media (min-width: @screen-md-min) {
        display: block;
      }

      a {
        display: inline-block;
        margin: 6px;

        &.active, &:hover {
          border-bottom: 1px solid @color-hili;
          margin-bottom: 5px;
        }

        img {
          vertical-align: middle !important;
          max-width: 85px;
          max-height: 85px;
        }
      }
    }
  }

  .details {
    .make-md-column(3);

    @media (min-width: @screen-md-min) {
      padding: 0 40px 0 20px;
    }

    ul {
      .list-unstyled;
      margin: 0;

      li {
        font-size: 10px;
        letter-spacing: 1px;
        line-height: 16px;

        &.edition {
          display: none; /*hidden for now*/
        }

        &.price {

          a.inquire::before {
            content: '+';
          }
        }

        &.description {
          margin-top: 10px;

          dfn {
            display: block;
            margin-bottom: 5px;
            font-style: normal;
          }

          cite {
            margin-bottom: 5px;
            display: block;

            &::before {
              content: '- ';
            }
          }

          q {
            display: block;
            margin-bottom: 5px;
            font-style: italic;
          }
        }

        p {
          font-size: 10px;
          line-height: 16px;
        }
      }
    }
  }
}
